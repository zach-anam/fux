{"version":3,"file":"fab-shared.js","sourceRoot":"","sources":["fab-shared.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2022 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport '../../elevation/elevation.js';\nimport '../../focus/focus-ring.js';\nimport '../../ripple/ripple.js';\n\nimport {html, TemplateResult} from 'lit';\nimport {property, query, state} from 'lit/decorators.js';\nimport {ClassInfo, classMap} from 'lit/directives/class-map.js';\n\nimport {ActionElement, BeginPressConfig, EndPressConfig} from '../../actionelement/action-element.js';\nimport {pointerPress, shouldShowStrongFocus} from '../../focus/strong-focus.js';\nimport {MdRipple} from '../../ripple/ripple.js';\n\n/**\n * @soyCompatible\n */\nexport abstract class FabShared extends ActionElement {\n  static override shadowRootOptions:\n      ShadowRootInit = {mode: 'open', delegatesFocus: true};\n\n  @property({type: Boolean}) disabled = false;\n\n  @property() icon = '';\n\n  @property() label = '';\n\n  @property({type: Boolean}) lowered = false;\n\n  @property({type: Boolean}) reducedTouchTarget = false;\n\n  @query('md-ripple') ripple!: MdRipple;\n\n  @state() protected showFocusRing = false;\n\n  /**\n   * @soyTemplate\n   * @soyClasses fabClasses: .md3-fab\n   */\n  protected override render(): TemplateResult {\n    const ariaLabel = this.label ? this.label : this.icon;\n\n    return html`\n      <button\n        class=\"md3-fab md3-surface ${classMap(this.getRenderClasses())}\"\n        ?disabled=\"${this.disabled}\"\n        aria-label=\"${ariaLabel}\"\n        @focus=\"${this.handleFocus}\"\n        @blur=\"${this.handleBlur}\"\n        @pointerdown=\"${this.handlePointerDown}\"\n        @pointerup=\"${this.handlePointerUp}\"\n        @pointercancel=\"${this.handlePointerCancel}\"\n        @pointerleave=\"${this.handlePointerLeave}\"\n        @pointerenter=\"${this.handlePointerEnter}\"\n        @click=\"${this.handleClick}\"\n        @contextmenu=\"${this.handleContextMenu}\">\n        ${this.renderElevation()}\n        ${this.renderFocusRing()}\n        ${this.renderRipple()}\n        <span class=\"md3-fab__icon\">\n          <slot name=\"icon\">${this.renderIcon(this.icon)}</slot>\n        </span>\n        ${this.renderLabel()}\n        ${this.renderTouchTarget()}\n      </button>`;\n  }\n\n  /** @soyTemplate */\n  protected getRenderClasses(): ClassInfo {\n    return {'md3-fab--lowered': this.lowered};\n  }\n\n  /** @soyTemplate */\n  protected abstract renderIcon(icon: string): TemplateResult|string;\n\n  /** @soyTemplate */\n  protected renderTouchTarget(): TemplateResult {\n    return this.reducedTouchTarget ? html`` :\n                                     html`<div class=\"md3-fab__touch\"></div>`;\n  }\n\n  /** @soyTemplate */\n  protected renderLabel(): TemplateResult|string {\n    return '';\n  }\n\n  /** @soyTemplate */\n  protected renderElevation(): TemplateResult {\n    return html`<md-elevation shadow surface></md-elevation>`;\n  }\n\n  /** @soyTemplate */\n  protected renderRipple(): TemplateResult {\n    return html`<md-ripple class=\"md3-fab__ripple\" ?disabled=\"${\n        this.disabled}\"></md-ripple>`;\n  }\n\n  /** @soyTemplate */\n  protected renderFocusRing(): TemplateResult {\n    return html`<md-focus-ring .visible=\"${\n        this.showFocusRing}\"></md-focus-ring>`;\n  }\n\n  override beginPress({positionEvent}: BeginPressConfig) {\n    this.ripple.beginPress(positionEvent);\n  }\n\n  override endPress(options: EndPressConfig) {\n    this.ripple.endPress();\n    super.endPress(options);\n  }\n\n  override handlePointerDown(e: PointerEvent) {\n    super.handlePointerDown(e);\n    pointerPress();\n    this.showFocusRing = shouldShowStrongFocus();\n  }\n\n  protected handlePointerEnter(e: PointerEvent) {\n    this.ripple.beginHover(e);\n  }\n\n  override handlePointerLeave(e: PointerEvent) {\n    super.handlePointerLeave(e);\n    this.ripple.endHover();\n  }\n\n  protected handleFocus() {\n    this.showFocusRing = shouldShowStrongFocus();\n  }\n\n  protected handleBlur() {\n    this.showFocusRing = false;\n  }\n}\n"]}